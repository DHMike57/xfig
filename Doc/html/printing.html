<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <TITLE>XFIG User Manual - Printing/Exporting</TITLE>
</HEAD>
<BODY>
<a href="contents.html"><img src="images/xfig-title.gif"
  alt="XFIG Users Manual" border=0></a>

<HR>

<h1>Printing and Exporting</h1>

<ul>
<li><a href="#print">Print</a>
<li><a href="#export">Export</a>
<li><a href="#latex_and_xfig">LaTeX and Xfig</a>
<li><a href="#imagemap">Generating an HTML Image Map</a>
</ul>

<p>To export or print a <b>Fig</b> file,
<b>xfig</b> calls <b>fig2dev</b>, the post-processor which converts the <b>Fig</b>
file to the desired output language.  For printing, this is PostScript.
For exporting, there are a dozen or so languages, including PostScript, EPS, 
LaTeX, MetaFont, and bitmap formats such as GIF, JPEG, PPM and several others.
See the <a href="#language"><i>Language</i></a> description of the Exporting section.
<br>This means that you must have <b>fig2dev</b> installed on your system along 
with <b>xfig</b>.  <b>Fig2dev</b>, which is part of the <b>TransFig</b>
distribution is always available where you find <b>xfig</b>. 
See <a href="installation.html">Getting and Installing Xfig</a> for details.

<p>
<hr>

<H2><font color="blue"><A NAME="print">Printing</A></font></H2>

The <i>Print...</i> entry in the 
<a href="main_menus.html#file-menu"><I>File</I> menu</a> 
(or accelerator <TT>Meta-P</TT>) provides the facility 
to print figures to PostScript
printers. Use <A HREF="#export">File/Export</A> if you want to store the output to a file.

<BLOCKQUOTE><IMG SRC="images/print-panel.gif" ALT="[Print Panel]" ></BLOCKQUOTE>

<DL>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Magnification</I>

<DD>
Specify the magnification when printing figure in percent of full size (%).
The default is 100% and may be set by the <TT>Fig.magnification</TT> resource.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Fit to Page</I>

<DD>
Clicking this button will set the <I>Magnification</I> automatically so that
figure size will just fill current <I>Paper Size</I> with at least 1/2
inch margin all around.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Orientation</I>

<DD>
Specify the orientation of the output as <I>Landscape</I> (horizontal)
or <I>Portrait</I> (vertical). The default orientation is same as the
orientation of the canvas which may be changed by 
<A HREF="main_menus.html#port-land"><i>Portrait/Landscape</i></A> 
in the <a href="main_menus.html#view-menu"><i>View</i> menu</a>.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Justification</I>

<DD>
Specify if the figure should be <I>Flush Left</I> or <I>Centered</I> on the
paper of size selected by <I>Paper Size</I>.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<A NAME="paper-size"><I>Paper Size</I></A>

<DD>
Specify the size of the paper.


<P>The following paper sizes are available:
<DL>
<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Letter (8.5in x 11in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Legal (8.5in x 14in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Tabloid (17in x 11in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ANSI A (8.5in x 11in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ANSI B (11in x 17in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ANSI C (17in x 22in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ANSI D (22in x 34in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ANSI E (34in x 44in)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A9 (37mm x 52mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A8 (52mm x 74mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A7 (74mm x 105mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A6 (105mm x 148mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A5 (148mm x 210mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A4 (210mm x 297mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A3 (297mm x 420mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A2 (420mm x 594mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A1 (594mm x 840mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
ISO A0 (840mm x 1189mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B10 (32mm x 45mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B9 (45mm x 64mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B8 (64mm x 91mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B7 (91mm x 128mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B6 (128mm x 182mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B5 (182mm x 257mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B4 (257mm x 364mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B3 (364mm x 515mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B2 (515mm x 728mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B1 (728mm x 1030mm)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
JIS B0 (1030mm x 1456mm)
</DL>

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Pages</I>

<DD>
If <I>Multiple</I> is selected here, the figure will be split into multiple
pages if the size of the figure is larger than <I>Paper Size</I>. It allows
the user to output a figure larger than paper size by pasting
those papers together (to make it easier, <B>xfig</B> generates output
so that the parts of the figure will be overlap).

<P>If <I>Single</I> is selected here, this facility will not be used;
any part of the figure outside the paper boundary will be clipped.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<a name="background"><I>Background</I></a>
<DD>
This will set the background color of the whole figure
when printing.  The default is white.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<a name="printer"><I>Printer</I></a>

<DD>
Specify the printer name output should be directed to. If this field is empty,
output will be directed to the default printer.
<br>
The default value is specified by the resource <TT>Fig*printer*string</TT>
or the environment variable <TT>$PRINTER</TT>.
<p>
If your system uses <b>/etc/printcap</b> to define printers, <b>xfig</b> will make
a pulldown menu of printers next to the entry.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Print Job Params</I>

<DD>
The string specified here will be passed as command-line options when executing 
<TT>lpr</TT> (<TT>lp</TT> on System V system). If <TT>%f</TT> is included in the string,
(it may appear more than once) it will be replaced by the name of the figure.
<P>
The default is empty, but it may be specified by <TT>Fig*job_params*string</TT>
resource.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Figures in batch</I>

<DD>
This indicator shows how many figures have been put in the <I>batch file</I>
for printing. Figures may be printed into the <I>batch file</I> by <I>Print FIGURE
to Batch</I>, and those figures may be sent to the printer as one print job
by clicking on <I>Print BATCH to Printer</I>.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Dismiss</I>

<DD>
Clicking this button will close the Print panel. The accelerator <TT>Meta-C</TT>
will also perform this function.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Print FIGURE/BATCH to Printer</I>

<DD>
Clicking this button will spool the figures in the <I>batch file</I>
if any, or the current figure if none, to the printer. 
The accelerator <TT>Meta-P</TT> will also perform this function.
<P>
The label of this button will be <I>Print BATCH to Printer</I> if there
are any figures in the batch file, or <I>Print FIGURE to Printer</I>
if there are none.
<P>
When printing to the printer, <B>xfig</B> will first convert the figure
to PostScript with <B><A HREF="installation.html#related-software">fig2dev</A></B>
program, and pass the result to <TT>lpr</TT> (<TT>lp</TT> on System V system).
When executing <TT>lpr</TT> (or <TT>lp</TT>), the printer name specified by
<I>PostScript Printer</I> field and options specified by <I>Print Job Params</I>
will be passed as command-line options.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Print FIGURE to Batch</I>

<DD>
Clicking this button will append the current figure to the <I>batch file</I>.
The accelerator <TT>Meta-B</TT> will also perform this function.
<P>
The figures stored in the <I>batch file</I> will be printed to the printer
when <I>Print BATCH to Printer</I> is clicked later. You can use this facility
when you want to send some figures to the printer at one time.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Clear Batch</I>

<DD>
Clicking this button will erase the accumulated figures in the <I>batch
file</I>. The accelerator <TT>Meta-X</TT> will also perform this function.
The figures are automatically deleted from the batch file when 
<I>Print BATCH to Printer</I> is clicked.
</DL>

<hr>

<H2><font color="blue"><A NAME="export">Exporting</A></font></H2>

The <i>Export...</i> entry in the 
<a href="main_menus.html#file-menu"><I>File</I> menu</a> 
(or accelerator <TT>Meta-X</TT>) provides the facility 
to output the figure in various format such as PostScript,
GIF, JPEG, HP-GL, etc. to a file.
This is useful when you want to read figures by other applications 
(LaTeX or FrameMaker, for example).
<br>See <a href="#latex_and_xfig">LaTeX and Xfig</a> for hints about
using <b>xfig</b> with LaTeX.
<p>
Use <A HREF="printing.html#print">File/Print</A> if you want to print the
figure to a PostScript printer.

<BLOCKQUOTE><IMG SRC="images/export-panel.gif" ALT="[Export Panel]" ></BLOCKQUOTE>

<P>
If the export <a href="#language">language</a> is <B>GIF</B>,
a menu to select a color which may be considered transparent is offered:<br>
<IMG SRC="images/export-gif.gif" ALT="[Export GIF]" >
<P>
If the export <a href="#language">language</a> is <B>JPEG (JFIF)</B>,
an entry to select the "quality factor" is offered:<br>
<IMG SRC="images/export-jpeg.gif" ALT="[Export JPEG]" >

<DL>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Magnification</I>

<DD>
Specify the magnification when exporting figure in percent of full size (%). 
The default is 100% and may be set by the <TT>Fig.magnification</TT> resource.

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Fit to Page</I>

<DD>
Clicking this button will set the <I>Magnification</I> automatically so that the
figure size will just fill current <I>Paper Size</I> with at least 1/2
inch margin all around. This is effective only when <I>PostScript</I> is
selected as <a href="#language"><I>Language</I></a>.

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Paper Size</I>

<DD>
Specify the size of the paper. See description in <A HREF="#paper-size">Print
Panel</A> about available paper sizes. This is effective only if <I>PostScript</I>
is selected at <a href="#language"><I>Language</I></a>.

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Orientation</I>

<DD>
Specify the orientation of the output as <I>Landscape</I> (horizontal)
or <I>Portrait</I> (vertical). The default orientation is same as the
orientation of the canvas which may be changed by 
<A HREF="main_menus.html#port-land"><i>Portrait/Landscape</i></A> 
in the <a href="main_menus.html#view-menu"><i>View</i> menu</a>.

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Justification</I>

<DD>
Specify if the figure should be <I>Flush Left</I> or <I>Centered</I> on the
paper of the size selected by <I>Paper Size</I>. This is effective only if
<I>PostScript</I> is selected at <a href="#language"><I>Language</I></a>.

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Pages</I>

<DD>
If <I>Multiple</I> is selected, the figure will be split into multiple
pages if the figure is larger than <I>Paper Size</I>. If <I>Single</I>
is selected, this facility will not used. This is effective only if
<I>PostScript</I> is selected at <a href="#language"><I>Language</I></a>.

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Export Offset</I>

<DD>
When exporting figure, the figure will be shifted to the right or down by the
amount specified here. 
Use negative numbers to shift it left and/or up. 
The unit of the amounts may be selected from
<I>Inches</I>, <I>Centimeters</I>, and <I>Fig Units</I>(1/1200 inch in version 3.x).

<DT><img src="images/redball.gif" align=bottom alt="-">
<a name="language"><I>Language</I></a>

<DD>
Specify the format (language) to be generated as output. The default is
<I>Encapsulated PostScript</I>, but may be changed with the resource 
<TT>Fig.exportLanguage</TT>.

<P>The following formats are available:
<P>Vector formats:
<DL>
<DT><img src="images/blueballdot.gif" align=bottom alt="-">
LaTeX picture environment

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
PicTeX macros

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
IBMGL (HP-GL)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Encapsulated PostScript (EPSF)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
PostScript

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
<a name="pdf_export">PDF (Portable Document Format)</a>

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Combined PostScript/LaTeX

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Textyl

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
TPIC

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
PIC

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
MF (MetaFont)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
<a name="cgm_export">CGM</a>
(Computer Graphics Metafile - useful to import into Microsoft WORD, etc.)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
Tk (Tck/Tk toolkit canvas)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
<a href="#imagemap">HTML Image map</a>
</DL>

<P>Bitmap formats:
<DL>
<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">GIF</A>
Graphic Interchange Format

<DT><img src="images/blueballdot.gif" align=bottom alt="-">
<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">JPEG</A>

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">PCX</A>
Paintbrush format

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.boutell.com/boutell/png/">PNG</A>
Portable Network Graphics

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">PPM</A>
Portable Pixmap 

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">SLD</A>
(AutoDesk slide format)

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">TIFF</A>
Tag Image File Format

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">XBM</A>
X11 Bitmap 

<DT><img src="images/blueballdot.gif" align=bottom alt="-">

<A HREF="http://www.dcs.ed.ac.uk/%7Emxr/gfx/2d-hi.html">XPM</A>
X11 Pixmap

</DL>

<P>
As a variation of the LaTeX format, <I>epic</I>, <I>eepic</I> and <I>eepicemu</I>
macros are also available. It is also possible to output the text part of the
figure in LaTeX and the graphics part in PostScript using <I>Combined PostScript/LaTeX</I>.
This is especially useful when complex numerical formulas are included in
the figure (see also <A HREF="attributes.html#text-flags">TEXT FLAGS</A>).

<P>Not all of the features in <B>xfig</B> are supported by all export languages.
For example, <a href="drawing.html#picture">imported pictures</a> 
are not supported for IBMGL export.
The PostScript export language supports all features
of <B>xfig</B> and a fairly high quality output will be generated.

<P>The <b>fig2dev</b> program, part of the <b>TransFig</b> package available with <b>xfig</b>
does the actual conversion from Fig to the output language.

<P>To export the figure in a bitmap format such as GIF or JPEG, you must have the
<A HREF="installation.html#ghostscript">GhostScript</A> and 
<A HREF="installation.html#netpbm">netpbm</A>
packages on your system.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<a name="smooth"><i>Smooth</i></a>
<dd>
If the export <a href="#language">language</a> is <b>any</b> of
the bitmap formats, a button labeled <b>Smooth</b> will appear
which will smooth the image by calling <b>fig2dev</b>
(using the `<tt>-S 2</tt>' option) to force GhostScript to render at
2x magnification which improves font rendering,
then passes through <tt>pnmscale</tt> to reduce to original size,
which also smooths the image by averaging colors of adjacent pixels.

<p>
<DT><img src="images/redball.gif" align=bottom alt="-">
<a name="border_margin"><I>Border Margin</I></a>
<dd>
When exporting to PostScript, Encapsulated PostScript, HTML MAP, or any 
of the bitmap formats (e.g. GIF, JPEG, etc.), you may add a margin
space around the figure.  The size of the margin is in pixels or 1/80th inch.

<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<a name="background"><I>Background</I></a>
<DD>
This will set the background color of the whole figure
when printing.  The default is white.

<p>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Transparent Color</I>

<DD>
For GIF export, it is possible to specify one of the colors as ``transparent''.
When displaying the figure with GIF viewers that support Transparent GIF
(such as <A HREF="http://www.netscape.com/">Netscape Navigator</A>, for
example), the color will not appear but the background of the viewer will show
through in place of the color.  This menu button will only appear for GIF export.


<P>The default is <I>None</I>.
<P>
<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Default Filename</I>

<DD>
Output will be written to this file if <I>Output Filename</I> is empty.

<P>This file name is the figure name plus an extension that reflects the output
format at the default, and it will be changed to the specified file name if
export has been performed by specifying a file name in <I>Output Filename</I>.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Output Filename</I>

<DD>
Specify the file name the output should be written to. If this field is
empty, the file name in the <I>Default Filename</I> field will be used.


<P>The file name in the <I>Output Filename</I> field may be changed by selecting
a file name in the <I>Fig Files</I> list, or typing the file name from
keyboard directly. If <I>return</I> is typed after file name is entered,
export to the file will be performed as if the <I>Export</I> button was clicked.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Alternatives</I>

<DD>
The list of files in the current directory (only files matching the pattern specified
by <I>Filename Mask</I>) are displayed, and users may select a file for output
from the list.

<P>Clicking a file name in this list with mouse button 1 will copy the file name
to the <I>Output Filename</I> field. Double-clicking a file name in this list
with mouse button 1 will cause exporting to the file as if <I>Export</I>
button was clicked. Note that exporting to the existing file will over-write
the old contents of the file.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Filename Mask</I>

<DD>
Only the files matching this pattern will be put in the <I>File
Alternatives</I> list. The pattern is similar to the one used
by the UNIX shell, and it is possible to use meta-characters like ``<TT>*</TT>''
or ``<TT>?</TT>''.


<P>Typing <I>return</I> in this field will cause rescan of the current directory
as if <I>Rescan</I> button was clicked.
This string will be changed according to the language
selected with the <a href="#language"><i>Language</i> menu</a>.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Current Dir</I>

<DD>
This shows the current directory, and files in the directory will be displayed
in the <I>Alternatives</I> list.


<P>The directory name in the <I>Current Dir</I> field may be changed
by clicking a directory name in <I>Directories</I> list, or by
typing the directory name from keyboard directly. If <I>return</I> is typed
after directory name is entered, the directory will scanned as if <I>Rescan</I>
button was clicked and the contents of <I>Alternatives</I> list will be updated.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Directories</I>

<DD>
The list of directories in the current directory is displayed here, and clicking
any item in this list with mouse button 1 will cause a move to the directory.
Normally, <I>hidden directories</I> are not displayed here, but this may be
toggled by <I>Show Hidden</I> button.


<P>``<TT>..</TT>'' indicates the parent directory. Moving to the parent directory
may also be performed by clicking mouse button 3 on the <I>Alternatives</I>
list or the <I>Directories</I> list.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Home</I>

<DD>
Clicking this button will move to the home directory of the user.

<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Show Hidden</I>

<DD>
This button controls if hidden directories (directories whose names start
with ``<TT>.</TT>'') should be displayed or not. Clicking this button will
toggle the state. Normally, hidden directories are not displayed.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Rescan</I>

<DD>
Clicking this button will scan files in the current directory
and update the <I>Alternatives</I> list. The accelerator <TT>Meta-R</TT>
will also perform this function.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Cancel</I>

<DD>
Clicking this button will close the Export panel. The accelerator <TT>Meta-C</TT>
will also perform this function.
<P>

<DT><img src="images/redball.gif" align=bottom alt="-">
<I>Export</I>

<DD>
Clicking this button will export to the file specified by <I>Output
Filename</I> field if any, or the file in <I>Default Filename</I>.
The accelerator <TT>Meta-X</TT> will also perform this function.


<P>When trying to export to an existing file other than <I>Default Filename</I>,
popup panel will appear and the user will asked to confirm the export operation.
If the figure is exported to a file other than <I>Default Filename</I>,
then <I>Default Filename</I> will be set to the actual export file name.</DL>

<HR>

<h2><a name="latex_and_xfig"><font color="blue">LaTeX and Xfig</font></a></h2>
Here are some helpful hints for using <b>xfig</b> and <b>LaTeX</b>.
<br>
This description is derived from the text 
written by Eric Masson (ericm@kirk.ee.mcgill.ca).

<h3>HOW TO IMPORT XFIG FIGURES IN YOUR LATEX FILES</h3>

<p>
When you call xfig use the following command line:

<pre>
xfig -specialtext -latexfonts -startlatexFont default
</pre>

<p>
If you want ALL of your figures to be started with 
<a href="attributes.html#text-flags">special text</a> and
<a href="attributes.html#font-panel">LaTeX fonts</a>,
you can set the following resources in your .Xresources
or whatever resource file you use:
<br>

<pre>
Fig.latexfonts: true
Fig.specialtext: true
</pre>

<p>
There are several formats to which xfig can generate output and 
LaTeX can read. I will only cover three cases:

<ol type="A">
<li>Export Fig format directly into LaTeX form
<li>Export Fig in encapsulated PostScript (EPS) and import the
    PostScript in LaTeX.
<li>Save the figure partly in PostScript and partly in LaTeX
    form and superimpose them in your document. 
</ol>

All three methods have their advantages and are equally simple
to handle. In method (A) the advantage is that all your work 
is in tex form and that your DVI files will hold all the necessary
information. In (B) you have all the power and fonts of PostScript
at your disposal. In (C) you get the drawing power of PostScript
and the typesetting of LaTeX for your strings.

<p>
In your LaTeX preamble (the part that preceeds your 
\begin{document} statement) place the following lines:

<pre>
                \input{psfig}
</pre>

So your preamble could look like: 

<pre>
\documentstyle[12pt,bezier,amstex]{article}  % include bezier curves
\renewcommand\baselinestretch{1.0}           % single space
\pagestyle{empty}                            % no headers and page numbers
\oddsidemargin -10 true pt      % Left margin on odd-numbered pages.
\evensidemargin 10 true pt      % Left margin on even-numbered pages.
\marginparwidth 0.75 true in    % Width of marginal notes.
\oddsidemargin  0 true in       % Note that \oddsidemargin=\evensidemargin
\evensidemargin 0 true in
\topmargin -0.75 true in        % Nominal distance from top of page to top of
\textheight 9.5 true in         % Height of text (including footnotes and figures)
\textwidth 6.375 true in        % Width of text line.
\parindent=0pt                  % Do not indent paragraphs
\parskip=0.15 true in

\input{psfig}           % Capability to place PostScript drawings
 
 
\begin{document}
\end{document}
</pre>

<hr>

<h3>TYPE A - Exporting directly to LaTeX form</h3>

In terms of drawing capabilities this is the weakest form you can use.
Lines in LaTeX can only be drawn at some specific angles. 
And lines with arrows can only be drawn at more limited angles.
Several features such as ellipses, splines, etc. are not supported 
(xfig does not take advantage of available LaTeX macro packages 
such as bezier). 
<p>
When drawing lines for type A drawings make
sure you restrict yourself to the proper 
<a href="attributes.html#angle-geom">angle geometry</a> in xfig.
Otherwise when you export your figures to LaTeX format, xfig
will approximate your lines to the nearest angle available in LaTeX.
Usually this has unpleasant results. 

In this mode, you can type any LaTeX string on your 
figure.  Once imported to LaTeX, the string  will be interpreted
properly.  For example:
 
<pre>
                $\int_0^9 f(x) dx$
</pre>

would result in a integration from 0 to 9 of the function f(x).

To create your LaTeX file just choose the <i>Export...</i> from the 
<a href="main_menus.html#file-menu"><i>File</i> menu</a> of <b>xfig</b>.
Then select <i>LaTeX picture</i> as the 
<a href="#language">language</a> to export.
This will create a file with a <tt>.latex</tt> extension which
you can then call directly into your LaTeX document. 
<p>
For example this code would import the file <tt>yourfile.latex</tt> 
directly into LaTeX file:
 
<pre>
\begin{figure}[htbp]
\begin{center}

\input{yourfile.latex} 

\caption{The caption on your figure}
\label{figure:yourreferencename}
\end{center}
\end{figure}
</pre>

<hr>

<h3>TYPE B - Exporting to Encapsulated PostScript</h3>

There are no limitations in drawing figures of this type. Except that 
one cannot use LaTeX command strings in this format. However all
of the many fonts of PostScript are available when this format is selected.
<p>
Once you are done drawing your figure
simply choose the <i>Export...</i> from the 
<a href="main_menus.html#file-menu"><i>File</i> menu</a> of <b>xfig</b>.
Then select <i>Encapsulated PostScript</i> as the 
<a href="#language">language</a> to export.
This will create a <tt>.eps</tt> file which you can then
include into you LaTeX ducument in the following way:

<pre>
\begin{figure}[htbp]
\begin{center}
  \psfig{file=yourfile.eps}
\end{center}
\caption{Your caption}
\label{figure:yourreference}
\end{figure}
</pre>
<p>
<b>Note:</b> This method may not be available in some environments.
Also, this can generate DVI file which is not fully portable.
 
<hr>

<h3>TYPE C - PostScript/LaTeX format</h3>
 
You can draw any lines or curves when using this format. 
In this type of export, LaTeX strings are permitted 
you also have the PostScript fonts available to you. Therefore
you can type in strings such as

<pre>
                $\int_0^9 f(x) dx$
</pre>

and they will be processed by LaTeX.
Note that you must set 
<a href="attributes.html#text-flags"><i>Special</i> flag</a> ON 
for texts you want to output in LaTeX,
and set it OFF for texts you want to output in PostScript.

<p>
To export in this format, simply choose the <i>Export...</i> from the 
<a href="main_menus.html#file-menu"><i>File</i> menu</a> of <b>xfig</b>.
Then select <i>Combined PostScript/LaTeX (both part)</i> as the 
<a href="#language">language</a> to export.
This will create a file with a <tt>.pstex_t</tt> extension
which you can then call directly into your LaTeX document,
and a file with a <tt>.pstex</tt> extension
which contains PostScript part of the figure.
The <tt>.pstex_t</tt> file automatically calls the <tt>.pstex</tt> file
and you do not need to include it explicitly in your tex file.
To include your figure just use something similar to this:

<pre>
\begin{figure}[htbp]
\begin{center}
 
\input{yourfigure.pstex_t}
 
\caption{Your figure}
\label{figure:example}
\end{center}
\end{figure}
</pre>

N.B. You might want to edit the .pstex_t files created by xfig.
     When it refers to the other file (.pstex) it automatically 
     gives the path specification to the .pstex file. This
     can be an inconvenience if you move your files to another directory
     because your LaTeX processing will fail. I personally prefer to 
     remove the full path specification and only keep the filename. 

<hr>

<h3>SOME OTHER NOTES</h3>

You can <a href="drawing.html#picture">import</a> 
Encapsulated PostScript files into your Fig files.
This is useful if you want to doodle on top of outputs from other
programs. For example you could include a MATLAB drawing and identify
points of interest with strings, lines, circles, etc. Starting from
version 2.1.7 of xfig there is a hook to 
<a href="installation.html#ghostscript">GhostScript</a> which permits 
you to view the PostScript in your drawing. A neat feature. 
<p>
Use <b>ps2epsi</b> in GhostScript to encapsulate your PostScript file
if you only have <tt>.ps</tt> files.
<p>
If it is necessary, you may use convert PostScript to Fig file
with <a href="installation.html#pstoedit"><b>pstoedit</b></a>.

<hr>

<h3>Changing the size of pictures in pstex_t</h3>
From Stephen Eglen (stephene@cogs.susx.ac.uk)

<p>
If you just include the picture using 
<pre>
\input{file.psttext_t}
</pre>

there is no way of specifying the size of the picture. 

<br>
There are two solutions to this:

<ol>
<li>
Draw it the right size in xfig to start with.
   Or, when you are <a href="#export">exporting</a> the figure,
   change the magnification of the picture by
   using the magnification box in the export window.  Either way you
   have to go back into xfig if you don't like the size of the image in
   your LaTeX document.

<p>
<li>
Get LaTeX to change the size of the picture, using either \scalebox
   or \resizebox.  These are general functions for scaling text or
   pictures from the graphics package:

<pre>
   \scalebox{factor}{object}
</pre>
   Will scale the object by any factor.  
   Factor is just a number 
   (reduction if less than 1, enlargement if larger than 1).
   Object is normally some text or graphics

<pre>
   eg: \scalebox{2}{ \input{file.pstex_t} }
</pre>
   will scale the picture by 2, dependent on driver (.ps works, but xdvi
   wont).  Scaling bitmap fonts may produce ugly results, so try and
   avoid them!

<pre>
   \resizebox{width}{ht} {stuff}
</pre>

   will resize "stuff" to be of size width x ht.  Using "!" as an argument
   retains the aspect ratio of the box.
<pre>
   eg \resizebox{5cm}{!}{fat cat} 
</pre>
   will make "fat cat" appear 5 cm wide, and suitably high.
   (From p129, Lamport)
</ol>

<hr>

<h2><a name="imagemap">Generating an HTML Image Map</a></h2>

It is possible to generate image map (clickable map) of HTML 3.2 
by selecting <i>HTML Image Map</i> as 
<a href="#language"><i>Language</i></a> 
on the <a href="#export">Export panel</a>.
<p>
To use this facility,
using <i>Comments</i> on the <a href="editing.html#edit-panel">Edit panel</a>,
comment like:
<p>
<blockquote>
  <tt>HREF="<i>url</i>" ALT="<i>string</i>"</tt>
</blockquote>
<p>
must be set for objects you want to make it clickable.
Here, <tt><i>url</i></tt> is URL of the target of the link,
<tt><i>string</i></tt> is alternative string for browsers
which will not display images
(<tt>ALT</tt> attribute is required in HTML 3.2).
<tt><i>string</i></tt> will be used as label of alternative text links
<b>xfig</b> will generate with the image map, too.
<p>
TEXT objects can't be used for links.
CIRCLE, ELLIPSE, SPLINE and ARC will be approximated with polygons.
Open objects such as POLYLINE or OPEN SPLINE will be
treated as if it is closed.
ARC-BOX will treated as if is is a BOX.

<HR>

[ <a href="contents.html">Contents</a> |
 <a href="introduction.html">Introduction</a> |
 <a href="authors.html">Credits</a> ]

</BODY>
</HTML>
